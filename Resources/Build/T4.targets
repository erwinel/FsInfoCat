<Project>
    <!-- xmlns="http://schemas.microsoft.com/developer/msbuild/2003" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://schemas.microsoft.com/developer/msbuild/2003 Microsoft.Build.CommonTypes.xsd" -->
    <ItemGroup>
        <None Include="Test/**/*.tt">
            <CopyToOutputDirectory>Never</CopyToOutputDirectory>
            <CopyToPublishDirectory>Never</CopyToPublishDirectory>
        </None>
    </ItemGroup>
    <Target Name="ProcessTemplates">
        <Message Condition=" !$([System.IO.File]::Exists('$(T4HostExe)')) " Importance="High" Text="$(MSBuildThisFile): Unzipping T4 Host to $(T4BinFolder)" />
        <Error Condition=" !$([System.IO.File]::Exists('$(T4HostExe)')) And !$([System.IO.File]::Exists('$(ProjectPath)')) " Text="Distribution file ZIP $(ProjectPath) was not found." />
        <Error Condition=" !$([System.IO.File]::Exists('$(T4HostExe)')) And !$([System.IO.File]::Exists('$(T4DistroZip)')) " Text="Distribution file ZIP $(T4DistroZip) was not found." />
        <MakeDir Condition=" !$([System.IO.File]::Exists('$(T4HostExe)')) And !$(Exists('$(SetupBinFolder)')) " Directories="$(SetupBinFolder)" />
        <Unzip Condition=" !$([System.IO.File]::Exists('$(T4HostExe)')) " SourceFiles="$(T4DistroZip)" DestinationFolder="$(T4BinFolder)" OverwriteReadOnlyFiles="true" />
        <Message Importance="High" Text="$(MSBuildThisFile): Transforming templates in $(ProjectPath)" />
        <Exec Command="$(T4HostExe) &quot;$(ProjectPath)&quot;" />
    </Target>
</Project>
