<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
        <Platform Condition=" '$(Platform)' == '' Or '$(Platform)' == 'Any CPU' ">AnyCPU</Platform>
        <AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
        <ProjectGuid>{C85E9D76-5CEB-4A3F-8F5F-8E66117037B1}</ProjectGuid>
        <OutputType>Library</OutputType>
        <RootNamespace>FsInfoCat.Desktop</RootNamespace>
        <AssemblyName>FsInfoCat</AssemblyName>
        <TargetFramework>net461</TargetFramework>
        <Company>Leonard T. Erwine</Company>
        <AssemblyTitle>FS InfoCat Common Library</AssemblyTitle>
        <Description>Supporting CLR Library for FS InfoCat</Description>
        <Product>FS InfoCat Common Library</Product>
        <Copyright>Copyright © Leonard Thomas Erwine 2021</Copyright>
        <AssemblyVersion>0.1.0.0</AssemblyVersion>
        <FileVersion>0.1.0.0</FileVersion>
        <OsPlatform>Windows</OsPlatform>
    </PropertyGroup>

    <Choose>
        <When Condition=" '$(DefineConstants)' == '' ">
            <PropertyGroup>
                <DefineConstants>TRACE;WINDOWS;NETFRAMEWORK</DefineConstants>
            </PropertyGroup>
        </When>
        <Otherwise>
            <PropertyGroup>
                <DefineConstants Condition="!$([System.Text.RegularExpressions.Regex]::IsMatch($(DefineConstants), '^(.*;)*TRACE(;.*)*$'))">$(DefineConstants);TRACE</DefineConstants>
                <DefineConstants Condition="!$([System.Text.RegularExpressions.Regex]::IsMatch($(DefineConstants), '^(.*;)*WINDOWS(;.*)*$'))">$(DefineConstants);WINDOWS</DefineConstants>
                <DefineConstants Condition="!$([System.Text.RegularExpressions.Regex]::IsMatch($(DefineConstants), '^(.*;)*NETFRAMEWORK(;.*)*$'))">$(DefineConstants);NETFRAMEWORK</DefineConstants>
            </PropertyGroup>
        </Otherwise>
    </Choose>

    <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
        <DebugSymbols>true</DebugSymbols>
        <DebugType>full</DebugType>
        <Optimize>false</Optimize>
        <DefineConstants Condition="!$([System.Text.RegularExpressions.Regex]::IsMatch($(DefineConstants), '^(.*;)*DEBUG(;.*)*$'))">DEBUG;$(DefineConstants)</DefineConstants>
        <ErrorReport>prompt</ErrorReport>
        <WarningLevel>4</WarningLevel>
    </PropertyGroup>

    <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
        <DebugType>pdbonly</DebugType>
        <Optimize>true</Optimize>
        <ErrorReport>prompt</ErrorReport>
        <WarningLevel>4</WarningLevel>
    </PropertyGroup>

    <ItemGroup>
      <PackageReference Include="Microsoft.Extensions.Logging.Debug" Version="5.0.0" />
      <PackageReference Include="System.ComponentModel.Annotations" Version="5.0.0" />
      <PackageReference Include="System.DirectoryServices" Version="5.0.0" />
      <PackageReference Include="System.Security.Cryptography.Algorithms" Version="4.3.1" />
    </ItemGroup>

    <ItemGroup>
        <Compile Include="..\FsInfoCat\**\*.cs" Exclude="..\FsInfoCat\obj\**\*.*;..\FsInfoCat\bin\**\*.*">
            <Link>%(RecursiveDir)%(Filename)%(Extension)</Link>
        </Compile>
    </ItemGroup>

</Project>
